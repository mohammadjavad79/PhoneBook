# PhoneBook API

## مقدمه

در این پروژه تلاش شده است با استفاده از اصول **DDD** قسمت‌های مختلف سیستم از یکدیگر جدا شوند تا هر بخش تنها مسئولیت مشخص و تعریف‌شده‌ای داشته باشد. هدف این معماری افزایش خوانایی، توسعه‌پذیری و قابلیت نگه‌داری پروژه بوده است.

---

## معماری پروژه

### ۱. لایه Domain – منطق اصلی کسب‌وکار
لایه **Domain** هسته‌ی اصلی پروژه که تمام قوانین و رفتارهای کسب و کار که در این پروژه دفترچه تلفن  به عنوان دامین میباشد، در این لایه تعریف شده‌اند.

در این پروژه:

- موجودیت `PhoneBook` به عنوان دفترچه تلفن دیده شده است.
- موجودیت `Row` سطرهای مرتبط با هر دفترچه تلفن را مدل‌سازی می‌کند.
- عملیات اضافه، حذف و ویرایش سطرها تنها از طریق خود PhoneBook انجام می‌شود تا انسجام دامنه حفظ شود.
- منطق دامنه مانند افزودن، به‌روزرسانی یا حذف سطر درون کلاس PhoneBook پیاده‌سازی شده است به این دلیل که خود پروژه درواقع عملیات‌های بر روی یک دفترچه بوده است.

---

### ۲. لایه Application – هماهنگ‌کننده عملیات
لایه **Application** وظیفه orchestrate عملیات و مدیریت سناریوهای مورد نیاز سیستم را برعهده دارد.

در این لایه:

- سرویس‌های اپلیکیشن عملیات اصلی مثل افزودن دفترچه، افزودن سطر، حذف و ویرایش آن را مدیریت می‌کنند.
- DTOها برای انتقال اطلاعات بین لایه‌ها تعریف شده‌اند.
- این لایه مستقیماً با دامنه برای اعمال منطق و با زیرساخت برای ذخیره‌سازی تعامل دارد.

---

### ۳. لایه Infrastructure – ارتباط با دیتابیس
لایه **Infrastructure** مسئول ارتباط با سیستم‌های خارجی است؛ در این پروژه دیتابیس **SQLite**.

در این لایه:

- پیکربندی‌های EF Core قرار گرفته است.
- ریپازیتوری‌ها وظیفه دسترسی به دیتابیس را بر عهده دارند.
- ارتباط بین مدل‌های دامنه و جداول دیتابیس مدیریت می‌شود.

---

### ۴. لایه Presentation – API و ارتباط با کاربر
لایه **Presentation** همان API است که درخواست‌های کاربر را دریافت و پاسخ ارائه می‌دهد.

اندپوینت‌های این لایه شامل:

- ایجاد دفترچه تلفن  
- افزودن سطر  
- حذف سطر  
- ویرایش سطر  
- دریافت سطرهای دفترچه با فیلتر Tag  

---

## فرآیند پیاده‌سازی
مراحل پیاده‌سازی:

1. تعریف دامنه و مدل‌سازی موجودیت‌ها  
2. ایجاد لایه Application  
3. پیاده‌سازی API  
4. ایجاد لایه Infrastructure برای اتصال به SQLite  
